---
title: "Лекция 2. Исследования скважин и пластов"
author: "Ринат Хабибуллин"
format: revealjs 
---

## Уравнение фильтрации


$$ 
    \frac{\partial ^2 p }{\partial r^2} + \frac{1}{r} \frac{\partial p}{\partial r} = \frac{\varphi \mu c_t}{0.00036 k} \frac{\partial p}{\partial t} 
$$ {#eq-diff_eq_2}

-   $k$ - проницаемость, мД
-   $\mu$ - вязкость флюида, сП
-   $p$ - давление, атм
-   $r$ - расстояние, м
-   $\rho$ - плотность флюида, кг/м$^3$
-   $\varphi$ - пористость породы, доли единиц.
-   $c_t$ - общая сжимаемость породы и флюида, 1/атм
-   $t$ - время, час

## Уравнение фильтрации в безразмерных переменных
$$ 
\frac{\partial p_D}{ \partial t_D} = \frac{1}{r_D}\left[ \frac{ \partial{}}{ \partial{r_D} }\left( r_D \dfrac{\partial p_D}{ \partial r_D} \right) \right]  
$$ {#eq-equation_dimensionless}

## Определения безразмерных переменных

$$ 
r_D = \frac{r}{r_w} 
$$

$$ 
t_D = \frac{0.00036 kt}{\varphi \mu c_t r_w^2}
$$

$$ 
p_D = \frac{kh}{ 18.42 q_s B \mu} \left( p_i - p_{wf} \right) 
$$

$$ 
q_D = \frac{q}{q_{ref}} 
$$

## Безразмерные переменные в python


```{python}
#| echo: true
#| code-overflow: wrap

def r_from_rd_m(rd, rw_m=0.1):
    return rd*rw_m

def t_from_td_hr(td, k_mD=10, phi=0.2, mu_cP=1, ct_1atm=1e-5, rw_m=0.1):
    return td * phi * mu_cP * ct_1atm * rw_m * rw_m / k_mD / 0.00036

def p_from_pd_atma(pd, k_mD=10, h_m=10, q_sm3day=20, b_m3m3=1.2, mu_cP=1, pi_atma=250):
    return pi_atma - pd * 18.42 * q_sm3day * b_m3m3 * mu_cP / k_mD / h_m 

```

пример

## Безразмерные переменные в python


```{python}
#| echo: true

def rd_from_r(r_m, rw_m=0.1):
    return r_m/rw_m

def td_from_t(t_hr, k_mD=10, phi=0.2, mu_cP=1, ct_1atm=1e-5, rw_m=0.1):
    return  0.00036 * t_hr * k_mD / (phi * mu_cP * ct_1atm * rw_m * rw_m)

def pd_from_p(p_atma, k_mD=10, h_m=10, q_sm3day=20, 
              b_m3m3=1.2, mu_cP=1, pi_atma=250):
    return (pi_atma - p_atma) / (18.42 * q_sm3day * b_m3m3 * mu_cP) * k_mD * h_m 
```